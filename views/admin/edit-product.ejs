<%- include('../layouts/head.ejs') %>
<link rel="stylesheet" href="/style/forms.css">
<%- include('../layouts/nav.ejs') %>
<main>
    <% if(errorMessage) { %>
    <div class="user-message user-message--error"> <%= errorMessage %> </div>
    <% } %>
    <form class="product-form" action="/admin/<% if(editing) { %>edit-product<% } else { %>add-product<% } %>" method="POST" enctype="multipart/form-data">
        <div class="div-form">
            <label for="title"> Title </label>
            <input class="<%= validationErr.find(e=> e.param==='title') ? 'invalid' : '' %>" type="text" name="title" id="title" value="<% if(editing || hasError) { %><%= product.title %> <% } %>">
        </div>
        <div class="div-form">
            <label for="image"> Image </label>
            <input type="file" name="image" id="image1">
        </div>
        <div class="div-form">
            <label for="image"> Image </label>
            <input type="file" name="image" id="image2">
        </div>
        <div class="div-form">
            <label for="image"> Image </label>
            <input type="file" name="image" id="image3">
        </div>
      <!--  <div class="div-form">
            <label for="imageURL"> Main Image URL </label>
            <input class="<%= validationErr.find(e=> e.param==='imageURL') ? 'invalid' : '' %>" type="text" name="imageURL" id="imageURL" value="<% if(editing || hasError) { %><%= product.imageURL %> <% } %>">
        </div>
        <div class="div-form">
            <label for="imageURL2"> Optional Image URL </label>
            <input class="<%= validationErr.find(e=> e.param==='imageURL2') ? 'invalid' : '' %>" type="text" name="imageURL2" id="imageURL" value="<% if(editing || hasError) { %><%= product.imageURL2 %> <% } %>">
        </div>
        <div class="div-form">
            <label for="imageURL3"> Optional Image URL </label>
            <input class="<%= validationErr.find(e=> e.param==='imageURL3') ? 'invalid' : '' %>" type="text" name="imageURL3" id="imageURL" value="<% if(editing || hasError) { %><%= product.imageURL3 %> <% } %>">
        </div> -->
        <div class="div-form">
            <label for="price"> Price </label>
            <input class="<%= validationErr.find(e=> e.param==='price') ? 'invalid' : '' %>" type="number" name="price" id="price" value="<% if(editing || hasError) { %><%= product.price %><% } %>">
        </div>
        <div class="div-form>
                <label for=" description"> Description </label> <br>
            <textarea class="<%= validationErr.find(e=> e.param==='description') ? 'invalid' : '' %>" type="text" name="description" id="description" rows="5" cols="40"><% if(editing || hasError) { %><%= product.description  %> <% } %> </textarea>
        </div>
        <% if(editing) { %>
            <input type="hidden" value="<%= product._id %>" name="productID">  
        <% } %>
        <input type="hidden" name="_csrf" value="<%= csrfToken%>">
        <button class="add-button" type="submit"><% if (editing) { %> Update Product <% } else { %> Submit <% } %> </button>
        </input>
    </form>
</main>
<%- include('../layouts/foot.ejs') %>